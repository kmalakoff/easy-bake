// Generated by CoffeeScript 1.3.3
var PROJECT_ROOT, eb, oven;

PROJECT_ROOT = "" + __dirname + "/../../..";

eb = !this.eb && (typeof require !== 'undefined') ? require("" + PROJECT_ROOT + "/easy-bake") : this.eb;

oven = null;

exports.easy_bake_core = {
  'TEST DEPENDENCY MISSING': function(test) {
    test.ok(!!eb);
    return test.done();
  },
  'Loading a YAML': function(test) {
    oven = new eb.Oven("" + __dirname + "/../../sample_library/easy-bake-config-test.yaml");
    oven.publishOptions().publishTasks();
    return test.done();
  },
  'Build': function(test) {
    oven.build({
      preview: true
    });
    oven.build();
    return test.done();
  },
  'Clean': function(test) {
    oven.clean({
      preview: true
    });
    oven.clean();
    return test.done();
  },
  'Clean and Build': function(test) {
    oven.build({
      clean: true,
      preview: true
    });
    oven.build({
      clean: true
    });
    return test.done();
  },
  'Chaining': function(test) {
    var command_queue;
    oven = (new eb.Oven("" + __dirname + "/../../sample_library/easy-bake-config-test.yaml")).publishOptions();
    command_queue = new eb.command.Queue();
    oven.clean(null, command_queue).build(null, command_queue).clean(null, command_queue);
    return command_queue.run(null, function() {
      console.log('chaining worked');
      return test.done();
    });
  },
  'Manual Tests': function(test) {
    oven = (new eb.Oven("" + __dirname + "/../../sample_library/easy-bake-config-test.yaml")).publishOptions();
    task('build', 'Build library and tests', function(options) {
      return oven.build(options);
    });
    return test.done();
  },
  'Error cases': function(test) {
    return test.done();
  }
};
